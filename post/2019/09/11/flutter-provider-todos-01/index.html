<!DOCTYPE html>
<html lang="zh">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <meta name="renderer" content="webkit|ie-comp|ie-stand" />
  <meta name="referrer" content="no-referrer" />
  <meta name="theme-color" content="#333333" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="google" content="notranslate" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="keyword" content="冷石, 前端, 面试，Web, Js, CSS, Node.js, Frontend, Flutter, Docker, Dart, Mysql, Egg.js" />
  <meta name="description" content="孑然一身，傲立于世" />
  <title>冷石的博客</title>
  <base href="/" />
  <link rel="preconnect" href="//cdn.jsdelivr.net" />
  <link rel="shortcut icon" href="/icons/icon-72x72.png" />
  <link
    rel="apple-touch-icon"
    href="/icons/icon-192x192.png"
  />
  <link
    rel="stylesheet"
    href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.2/build/styles/atom-one-light.min.css"
  />
  <link rel="stylesheet" href="/index.css">
  <script
    data-ad-client="ca-pub-1196485898698315"
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
  ></script>
</head>

  <body>
    <header class="header">
  <a class="logo" href="/">
    <img
      class="logo-img"
      src="https://avatars.githubusercontent.com/u/18013127?v=4"
    />
  </a>
  <div class="color" id="color"></div>
</header>

    <main class=""><article class="container article">
    
      <div class="article-cover">
        <img decoding="async" loading="lazy" src="https://cdn.pixabay.com/photo/2021/05/13/17/49/dog-6251469_960_720.jpg" alt="cover" />
      </div>
    

    <h1 class="article-title">使用 Provider 管理 Flutter 应用状态 (上)</h1>
 
    <p class="article-meta">
      <span class="article-meta-item">
        最后更新&#58;&nbsp;<time
          class="post-time"
          datetime="2021-06-28"
          >2021-06-28</time
        >
      </span>
      <span class="article-meta-item"
        >阅读时间&#58;&nbsp;9
        min</span
      >

    </p>
  </section>

  <section class=""><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一个应用内通常会有两种数据，部件内部的使用的临时性数据以及很多部件使用的全局性数据，部件内部使用的数据可以通过 StatefulWidget 来管理，但是全局性的数据如果通过从上到下传递的方式会使代码写的十分繁琐，这时就需要一个状态管理工具来进行管理了，本文说明如何使用 Provider 来管理这种应用的全局性的数据</p>
<h2 id="什么是-Provider"><a href="#什么是-Provider" class="headerlink" title="什么是 Provider"></a>什么是 Provider</h2><p>官方的定义是： A mixture between dependency injection (DI) and state management, built with widgets for widgets. 翻译过来大意是一种依赖注入和状态管理的混合方案，使用部件创建，作用于部件 😅</p>
<p><a href="https://pub.flutter-io.cn/documentation/provider/latest/" target="_blank" rel="noopener">官方文档</a></p>
<h2 id="为什么要使用-Provider"><a href="#为什么要使用-Provider" class="headerlink" title="为什么要使用 Provider"></a>为什么要使用 Provider</h2><p>应用中通常会有一些很多部件都需要的数据，如用户的登录信息，用户设置，地理位置等，如果只是使用 StatefullWeight 的话就需要将状态提升到一个父部件中然后向下进行传递，会很繁琐，使用 provider 的话可以将对一种状态数据的操作放到一个文件内，然后使用到这个数据的部件只需要使用就可以了，当数据有变化时，部件会自动的重新构建，使界面更新。</p>
<h2 id="一个例子-🌰"><a href="#一个例子-🌰" class="headerlink" title="一个例子 🌰"></a>一个例子 🌰</h2><p>使用一个 todo 应用来说明如何在 Flutter 应用中使用 Provider，最终的完成的应用是这样的，可以新增，编辑和删除 todo。</p>
<p><a href="https://github.com/xrr2016/flutter_provider_todos" target="_blank" rel="noopener">源码地址</a></p>
<img src="images/provider-todos.png" width="360" style="max-width: 360px;">

<h3 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h3><p>首先使用命令行创建一个项目</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter create flutter_provider_todos</span><br></pre></td></tr></table></figure>

<p>然后在项目的 pubspec.yml 添加 provider</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dependencies:</span></span><br><span class="line">  <span class="attr">provider:</span> <span class="string">^3.1.0</span></span><br></pre></td></tr></table></figure>

<p>创建一个 store 文件夹以及 todos.dart 用来存放应用中需要用到的全局性数据，新建一个 widget 目录，用来存放应用中的部件以及一个显示 todo 的页面 todos_page.dart</p>
<img src="images/todos-folder.jpg" width="360" style="max-width: 360px;">

<p>首先创建 todos 这个全局性的数据，修改 store/todos.dart，创建一个 Todo 类表示一个代办事项，然后实现 Todos 类， Todos 混合了 ChangeNotifier 类，为了使用 notifyListeners 方法来通知 UI 更新，因此需要导入 foundation.dart，Todos 类使用一个 _items 数组存放 Todo 数据，以及其它对 Todo 进行操作的方法。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/foundation.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Todo</span> </span>&#123;</span><br><span class="line">  <span class="built_in">bool</span> finish;</span><br><span class="line">  <span class="built_in">String</span> thing;</span><br><span class="line"></span><br><span class="line">  Todo(&#123;</span><br><span class="line">    <span class="meta">@required</span> <span class="keyword">this</span>.thing,</span><br><span class="line">    <span class="keyword">this</span>.finish = <span class="keyword">false</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Todos</span> <span class="keyword">extends</span> <span class="title">ChangeNotifier</span> </span>&#123;</span><br><span class="line">  <span class="built_in">List</span>&lt;Todo&gt; _items = [</span><br><span class="line">    Todo(thing: <span class="string">'Play lol'</span>, finish: <span class="keyword">true</span>),</span><br><span class="line">    Todo(thing: <span class="string">'Learn flutter'</span>, finish: <span class="keyword">false</span>),</span><br><span class="line">    Todo(thing: <span class="string">'Read book'</span>, finish: <span class="keyword">false</span>),</span><br><span class="line">    Todo(thing: <span class="string">'Watch anime'</span>, finish: <span class="keyword">false</span>),</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> items &#123;</span><br><span class="line">    <span class="keyword">return</span> [..._items];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> finishTodos &#123;</span><br><span class="line">    <span class="keyword">return</span> _items.where((todo) =&gt; todo.finish);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> refresh() &#123;</span><br><span class="line">    notifyListeners();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> addTodo(Todo todo) &#123;</span><br><span class="line">    _items.insert(<span class="number">0</span>, todo);</span><br><span class="line"></span><br><span class="line">    refresh();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> removeTodo(<span class="built_in">int</span> index) &#123;</span><br><span class="line">    _items.removeAt(index);</span><br><span class="line"></span><br><span class="line">    refresh();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> editTodo(<span class="built_in">int</span> index, <span class="built_in">String</span> newThing, <span class="built_in">bool</span> isFinish) &#123;</span><br><span class="line">    Todo todo = _items[index];</span><br><span class="line">    todo.thing = newThing;</span><br><span class="line">    todo.finish = isFinish;</span><br><span class="line"></span><br><span class="line">    refresh();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> toggleFinish(<span class="built_in">int</span> index) &#123;</span><br><span class="line">    <span class="keyword">final</span> todo = _items[index];</span><br><span class="line">    todo.finish = !todo.finish;</span><br><span class="line"></span><br><span class="line">    refresh();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">bool</span> isTodoExist(<span class="built_in">String</span> thing) &#123;</span><br><span class="line">    <span class="built_in">bool</span> isExist = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; _items.length; i++) &#123;</span><br><span class="line">      <span class="keyword">final</span> todo = _items[i];</span><br><span class="line">      <span class="keyword">if</span> (todo.thing == thing) &#123;</span><br><span class="line">        isExist = <span class="keyword">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> isExist;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后使用 provider 提供的 ChangeNotifierProvider 方法将数据注册到整个应用，如果有多个数据就需要使用 MultiProvider 方法</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:provider/provider.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'todos_page.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'store/todos.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(MyApp());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      title: <span class="string">'Todos'</span>,</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        primarySwatch: Colors.green,</span><br><span class="line">      ),</span><br><span class="line">      home: ChangeNotifierProvider(</span><br><span class="line">        builder: (context) =&gt; Todos(),</span><br><span class="line">        child: TodosPage(),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="列表页面"><a href="#列表页面" class="headerlink" title="列表页面"></a>列表页面</h3><p>接着就是实现显示 todo 列表的页面，这个页面就是要用到 Todos 类里面的数据的部件，要使用 provider 的数据首先要导入 provider 以及对应的数据类 Todos，然后用 Consumer 加类型 Todos 来使用这个数据</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Consumer&lt;Todos&gt;(</span><br><span class="line">  builder: (ctx, todos, child) &#123;</span><br><span class="line">    <span class="keyword">return</span> YourWidget()</span><br><span class="line">  &#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>这个页面使用了一个 ListView.builder() 来渲染 Todos，然后每一项使用一个 ListTile 展示。新增，编辑和删除对应了 3 个不同的部件，分别是 AddTodoButton()，EditTodoButton()， RemoveTodoButton()</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// todos_page.dart</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:provider/provider.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'store/todos.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'widget/add_todo_button.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'widget/edit_todo_button.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'widget/remove_todo_button.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodosPage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(title: Text(<span class="string">'Flutter Provider Todos'</span>)),</span><br><span class="line">      body: Consumer&lt;Todos&gt;(</span><br><span class="line">        builder: (ctx, todos, child) &#123;</span><br><span class="line">          <span class="built_in">List</span>&lt;Todo&gt; items = todos.items;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">return</span> ListView.builder(</span><br><span class="line">            itemCount: items.length,</span><br><span class="line">            itemBuilder: (_, index) =&gt; Column(</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                ListTile(</span><br><span class="line">                  title: Text(</span><br><span class="line">                    items[index].thing,</span><br><span class="line">                    style: TextStyle(</span><br><span class="line">                      color: items[index].finish ? Colors.green : Colors.grey,</span><br><span class="line">                    ),</span><br><span class="line">                  ),</span><br><span class="line">                  trailing: Container(</span><br><span class="line">                    width: <span class="number">150</span>,</span><br><span class="line">                    child: Row(</span><br><span class="line">                      mainAxisAlignment: MainAxisAlignment.end,</span><br><span class="line">                      children: &lt;Widget&gt;[</span><br><span class="line">                        EditTodoButton(todoIndex: index),</span><br><span class="line">                        RemoveTodoButton(todoIndex: index),</span><br><span class="line">                      ],</span><br><span class="line">                    ),</span><br><span class="line">                  ),</span><br><span class="line">                ),</span><br><span class="line">                Divider(),</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          );</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">      floatingActionButton: AddTodoButton(),</span><br><span class="line">      floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="实现功能"><a href="#实现功能" class="headerlink" title="实现功能"></a>实现功能</h3><p>接下来就是要实现这 3 个按钮了，在 widget 目录创建对应的文件，每个按钮都会使用到 Todos 类里面定义的方法，所以都需要导入 provider 和 Todos 类，点击按钮会弹出一个对话框询问对应的操作，</p>
<img src="images/todos-widget.jpg" style="max-width: 360px;">

<p>添加 Todo 按钮</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:provider/provider.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'../store/todos.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AddTodoButton</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _AddTodoButtonState createState() =&gt; _AddTodoButtonState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_AddTodoButtonState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">AddTodoButton</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> _formKey = GlobalKey&lt;FormState&gt;();</span><br><span class="line">  <span class="keyword">final</span> _controller = TextEditingController();</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> dispose() &#123;</span><br><span class="line">    _formKey.currentState.dispose();</span><br><span class="line">    _controller.dispose();</span><br><span class="line">    <span class="keyword">super</span>.dispose();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Consumer&lt;Todos&gt;(</span><br><span class="line">      builder: (_, todos, child) &#123;</span><br><span class="line">        <span class="keyword">return</span> FloatingActionButton(</span><br><span class="line">          child: Icon(Icons.add),</span><br><span class="line">          onPressed: () &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">'add todo'</span>);</span><br><span class="line">            <span class="keyword">return</span> showDialog(</span><br><span class="line">              context: context,</span><br><span class="line">              builder: (BuildContext _) &#123;</span><br><span class="line">                <span class="keyword">return</span> SimpleDialog(</span><br><span class="line">                  title: Text(<span class="string">'添加 Todo'</span>),</span><br><span class="line">                  contentPadding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">24.0</span>),</span><br><span class="line">                  children: &lt;Widget&gt;[</span><br><span class="line">                    Form(</span><br><span class="line">                      key: _formKey,</span><br><span class="line">                      child: Column(</span><br><span class="line">                        children: &lt;Widget&gt;[</span><br><span class="line">                          TextFormField(</span><br><span class="line">                            autofocus: <span class="keyword">true</span>,</span><br><span class="line">                            autovalidate: <span class="keyword">false</span>,</span><br><span class="line">                            controller: _controller,</span><br><span class="line">                            keyboardType: TextInputType.text,</span><br><span class="line">                            decoration: InputDecoration(</span><br><span class="line">                              border: OutlineInputBorder(),</span><br><span class="line">                              labelText: <span class="string">'输入你想做的事'</span>,</span><br><span class="line">                            ),</span><br><span class="line">                            validator: (val) &#123;</span><br><span class="line">                              <span class="keyword">if</span> (val.isEmpty) &#123;</span><br><span class="line">                                <span class="keyword">return</span> <span class="string">'想做的事不能为空'</span>;</span><br><span class="line">                              &#125;</span><br><span class="line"></span><br><span class="line">                              <span class="built_in">bool</span> isExist = todos.isTodoExist(val);</span><br><span class="line"></span><br><span class="line">                              <span class="keyword">if</span> (isExist) &#123;</span><br><span class="line">                                <span class="keyword">return</span> <span class="string">'这件事情已经存在了'</span>;</span><br><span class="line">                              &#125;</span><br><span class="line">                              <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">                            &#125;,</span><br><span class="line">                          ),</span><br><span class="line">                          SizedBox(height: <span class="number">20</span>),</span><br><span class="line">                          Row(</span><br><span class="line">                            mainAxisAlignment: MainAxisAlignment.end,</span><br><span class="line">                            children: &lt;Widget&gt;[</span><br><span class="line">                              FlatButton(</span><br><span class="line">                                child: Text(<span class="string">'取消'</span>),</span><br><span class="line">                                onPressed: () &#123;</span><br><span class="line">                                  Navigator.pop(context);</span><br><span class="line">                                &#125;,</span><br><span class="line">                              ),</span><br><span class="line">                              RaisedButton(</span><br><span class="line">                                child: Text(</span><br><span class="line">                                  <span class="string">'确定'</span>,</span><br><span class="line">                                  style: TextStyle(color: Colors.white),</span><br><span class="line">                                ),</span><br><span class="line">                                color: Theme.of(context).primaryColor,</span><br><span class="line">                                onPressed: () &#123;</span><br><span class="line">                                  <span class="keyword">final</span> isValid =</span><br><span class="line">                                      _formKey.currentState.validate();</span><br><span class="line"></span><br><span class="line">                                  <span class="keyword">if</span> (!isValid) &#123;</span><br><span class="line">                                    <span class="keyword">return</span>;</span><br><span class="line">                                  &#125;</span><br><span class="line"></span><br><span class="line">                                  <span class="keyword">final</span> thing = _controller.value.text;</span><br><span class="line"></span><br><span class="line">                                  todos.addTodo(Todo(</span><br><span class="line">                                    thing: thing,</span><br><span class="line">                                    finish: <span class="keyword">false</span>,</span><br><span class="line">                                  ));</span><br><span class="line">                                  _controller.clear();</span><br><span class="line">                                  Navigator.pop(context);</span><br><span class="line">                                &#125;,</span><br><span class="line">                              )</span><br><span class="line">                            ],</span><br><span class="line">                          ),</span><br><span class="line">                        ],</span><br><span class="line">                      ),</span><br><span class="line">                    ),</span><br><span class="line">                  ],</span><br><span class="line">                );</span><br><span class="line">              &#125;,</span><br><span class="line">            );</span><br><span class="line">          &#125;,</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="https://github.com/xrr2016/flutter_provider_todos/raw/master/add-todo.png" width="360" style="max-width: 360px;">

<p>编辑 Todo 按钮</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:provider/provider.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'../store/todos.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EditTodoButton</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> todoIndex;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> EditTodoButton(&#123;Key key, <span class="keyword">this</span>.todoIndex&#125;) : <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _EditTodoButtonState createState() =&gt; _EditTodoButtonState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_EditTodoButtonState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">EditTodoButton</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> _formKey = GlobalKey&lt;FormState&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> dispose() &#123;</span><br><span class="line">    _formKey?.currentState?.dispose();</span><br><span class="line">    <span class="keyword">super</span>.dispose();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Consumer&lt;Todos&gt;(</span><br><span class="line">      builder: (context, todos, child) &#123;</span><br><span class="line">        <span class="keyword">final</span> todoIndex = widget.todoIndex;</span><br><span class="line">        <span class="keyword">final</span> Todo todo = todos.items[todoIndex];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> IconButton(</span><br><span class="line">          color: Colors.blue,</span><br><span class="line">          icon: Icon(Icons.edit),</span><br><span class="line">          onPressed: () &#123;</span><br><span class="line">            <span class="keyword">return</span> showDialog(</span><br><span class="line">              context: context,</span><br><span class="line">              builder: (context) &#123;</span><br><span class="line">                <span class="keyword">return</span> SimpleDialog(</span><br><span class="line">                  title: Text(<span class="string">'编辑 Todo'</span>),</span><br><span class="line">                  contentPadding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">24.0</span>),</span><br><span class="line">                  children: &lt;Widget&gt;[</span><br><span class="line">                    Form(</span><br><span class="line">                      key: _formKey,</span><br><span class="line">                      child: Column(</span><br><span class="line">                        children: &lt;Widget&gt;[</span><br><span class="line">                          TextFormField(</span><br><span class="line">                            autofocus: <span class="keyword">false</span>,</span><br><span class="line">                            autovalidate: <span class="keyword">false</span>,</span><br><span class="line">                            initialValue: todo.thing,</span><br><span class="line">                            decoration: InputDecoration(</span><br><span class="line">                              border: OutlineInputBorder(),</span><br><span class="line">                              labelText: <span class="string">'输入你想做的事'</span>,</span><br><span class="line">                            ),</span><br><span class="line">                            onChanged: (val) &#123;</span><br><span class="line">                              todo.thing = val;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            validator: (val) &#123;</span><br><span class="line">                              <span class="keyword">if</span> (val.isEmpty) &#123;</span><br><span class="line">                                <span class="keyword">return</span> <span class="string">'想做的事不能为空'</span>;</span><br><span class="line">                              &#125;</span><br><span class="line">                              <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">                            &#125;,</span><br><span class="line">                          ),</span><br><span class="line">                          SizedBox(height: <span class="number">20</span>),</span><br><span class="line">                          SwitchListTile(</span><br><span class="line">                            title: <span class="keyword">const</span> Text(<span class="string">'是否完成'</span>),</span><br><span class="line">                            value: todo.finish,</span><br><span class="line">                            onChanged: (<span class="built_in">bool</span> value) &#123;</span><br><span class="line">                              todo.finish = value;</span><br><span class="line">                            &#125;,</span><br><span class="line">                          ),</span><br><span class="line">                          SizedBox(height: <span class="number">20</span>),</span><br><span class="line">                          Row(</span><br><span class="line">                            mainAxisAlignment: MainAxisAlignment.end,</span><br><span class="line">                            children: &lt;Widget&gt;[</span><br><span class="line">                              FlatButton(</span><br><span class="line">                                child: Text(<span class="string">'取消'</span>),</span><br><span class="line">                                onPressed: () =&gt; Navigator.pop(context),</span><br><span class="line">                              ),</span><br><span class="line">                              RaisedButton(</span><br><span class="line">                                child: Text(</span><br><span class="line">                                  <span class="string">'确定'</span>,</span><br><span class="line">                                  style: TextStyle(color: Colors.white),</span><br><span class="line">                                ),</span><br><span class="line">                                color: Theme.of(context).primaryColor,</span><br><span class="line">                                onPressed: () &#123;</span><br><span class="line">                                  <span class="keyword">final</span> isValid =</span><br><span class="line">                                      _formKey.currentState.validate();</span><br><span class="line"></span><br><span class="line">                                  <span class="keyword">if</span> (!isValid) &#123;</span><br><span class="line">                                    <span class="keyword">return</span>;</span><br><span class="line">                                  &#125;</span><br><span class="line"></span><br><span class="line">                                  Navigator.pop(context);</span><br><span class="line"></span><br><span class="line">                                  todos.editTodo(</span><br><span class="line">                                    todoIndex,</span><br><span class="line">                                    todo.thing,</span><br><span class="line">                                    todo.finish,</span><br><span class="line">                                  );</span><br><span class="line">                                &#125;,</span><br><span class="line">                              )</span><br><span class="line">                            ],</span><br><span class="line">                          ),</span><br><span class="line">                        ],</span><br><span class="line">                      ),</span><br><span class="line">                    ),</span><br><span class="line">                  ],</span><br><span class="line">                );</span><br><span class="line">              &#125;,</span><br><span class="line">            );</span><br><span class="line">          &#125;,</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="https://github.com/xrr2016/flutter_provider_todos/raw/master/edit-todo.png" width="360" style="max-width: 360px;">

<p>删除 Todo 按钮</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:provider/provider.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'../store/todos.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RemoveTodoButton</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> todoIndex;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> RemoveTodoButton(&#123;Key key, <span class="keyword">this</span>.todoIndex&#125;) : <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Consumer&lt;Todos&gt;(builder: (_, todos, child) &#123;</span><br><span class="line">      <span class="keyword">final</span> Todo todo = todos.items[todoIndex];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> IconButton(</span><br><span class="line">        color: Colors.red,</span><br><span class="line">        icon: Icon(Icons.delete),</span><br><span class="line">        onPressed: () &#123;</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">'delete todo'</span>);</span><br><span class="line">          showDialog(</span><br><span class="line">            context: context,</span><br><span class="line">            builder: (BuildContext context) &#123;</span><br><span class="line">              <span class="keyword">return</span> AlertDialog(</span><br><span class="line">                title: Text(<span class="string">'确认删除 <span class="subst">$&#123;todo.thing&#125;</span>?'</span>),</span><br><span class="line">                actions: &lt;Widget&gt;[</span><br><span class="line">                  FlatButton(</span><br><span class="line">                    child: Text(</span><br><span class="line">                      <span class="string">'取消'</span>,</span><br><span class="line">                      style: TextStyle(color: Colors.grey),</span><br><span class="line">                    ),</span><br><span class="line">                    onPressed: () =&gt; Navigator.pop(context),</span><br><span class="line">                  ),</span><br><span class="line">                  FlatButton(</span><br><span class="line">                    child: Text(<span class="string">'确认'</span>),</span><br><span class="line">                    onPressed: () &#123;</span><br><span class="line">                      todos.removeTodo(todoIndex);</span><br><span class="line">                      Navigator.pop(context);</span><br><span class="line">                    &#125;,</span><br><span class="line">                  ),</span><br><span class="line">                ],</span><br><span class="line">              );</span><br><span class="line">            &#125;,</span><br><span class="line">          );</span><br><span class="line">        &#125;,</span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="https://github.com/xrr2016/flutter_provider_todos/raw/master/remove-todo.png" width="360" style="max-width: 360px;">

<p>可以看到要使用对应的方法需要的只是向对应的部件注入这个数据，然后使用就可以了</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>使用了 provider 后，数据以及对一个 Todo 的操作都放在一个文件里面了，不用在多个层级间传递数据，并且在数据变化时自动更新了 UI，所以是十分有必要的。</p></section>

  <a
  class="license-link"
  rel="license"
  href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode.zh-Hans"
>
  <img
    class="license-img"
    alt="知识共享许可协议"
    src="https://img.shields.io/badge/license-BY--NC--SA%204.0-green"
  />
</a>

  <section class="article-more">
    
    <a
      class=""
      href="/post/2019/09/23/flutter-provider-todos-02/"
      title="使用 Provider 管理 Flutter 应用状态 (下)"
    >
      &larr;&nbsp;使用 Provider 管理 Flutter 应用状态 (下)
    </a>
     
    <a
      class=""
      href="/post/2019/09/08/dsa-hash/"
      title="数据结构与算法之哈希表"
    >
      数据结构与算法之哈希表&nbsp;&rarr;
    </a>
    
  </section>
</article></main>
    <footer class="footer container">
  <ul class="sns-list">
    <li class="sns-list-item">
      <p class="">
        共计&#58; 61 篇
      </p>
    </li>
    <li class="sns-list-item">
      <p class="">
        <span class=""
          >总字数&#58; 63.9k</span
        >
      </p>
    </li>
  </ul>

  <ul class="sns-list">
    
    <li class="sns-list-item">
      <a
        class="sns-list-link"
        target="_blank"
        rel="noopener"
        href="https://github.com/xrr2016"
        >Github</a
      >
    </li>
     
    <li class="sns-list-item">
      <a
        class="sns-list-link"
        target="_blank"
        rel="noopener"
        href="https://juejin.im/user/576666b7207703006b1e0f09"
        >掘金</a
      >
    </li>
     
    <li class="sns-list-item">
      <a
        class="sns-list-link"
        target="_blank"
        rel="noopener"
        href="https://zhihu.com/people/needforchange/posts"
        >知乎</a
      >
    </li>
     
    <li>
      <a
        class="sns-list-link"
        target="_blank"
        rel="noopener"
        href="https://leetcode-cn.com/u/coldstone"
        >力扣</a
      >
    </li>
    
    <li class="sns-list-item">
      <a class="rss-link" href="/atom.xml">
        <svg
          class=""
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"
          />
        </svg>
      </a>
    </li>
  </ul>

  <ul class="sns-list">
    <li class="sns-list-item">
      <a
        class="sns-list-link"
        href="https://colmugx.github.io/blog/"
        target="_blank"
        >colmugx</a
      >
    </li>
    <li class="sns-list-item">
      <a class="sns-list-link" href="https://kalasearch.cn/blog" target="_blank"
        >卡拉搜索</a
      >
    </li>
    <li class="sns-list-item">
      <a class="sns-list-link" href="https://blog.inmind.ltd/" target="_blank"
        >Mind's blog</a
      >
    </li>
    <li class="sns-list-item">
      <a
        class="sns-list-link"
        href="https://oldchen.top/flutter-blog/#/"
        target="_blank"
        >老晨子</a
      >
    </li>
    <li class="sns-list-item">
      <a class="sns-list-link" href="https://www.v2fy.com/" target="_blank"
        >猫爪导航🐱</a
      >
    </li>
    <li class="sns-list-item">
      <a class="sns-list-link" href="https://wxsm.space" target="_blank"
        >wxsm's space</a
      >
    </li>
  </ul>
</footer>
 <!--
 Copyright (c) 2021 Cold Stone
 
 This software is released under the MIT License.
 https://opensource.org/licenses/MIT
-->
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.2/build/highlight.min.js"></script>
<script src="/index.js"></script>

  </body>
</html>
